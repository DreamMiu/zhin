<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>指令(Command) - 知音(Zhin)</title>
    <meta name="description" content="轻量、优雅的开发机器人">
    <link rel="preload stylesheet" href="/assets/style.6bbbd991.css" as="style">
    
    <script type="module" src="/assets/app.254aa121.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.8f76c11e.js">
    <link rel="modulepreload" href="/assets/chunks/theme.cdafaf08.js">
    <link rel="modulepreload" href="/assets/guide_command.md.073a2b04.lean.js">
    <meta name="theme-color" content="#3c8772">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-36382ed6><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-36382ed6 data-v-7c10a9e2><div class="VPNavBar has-sidebar" data-v-7c10a9e2 data-v-fd660878><div class="container" data-v-fd660878><div class="title" data-v-fd660878><div class="VPNavBarTitle has-sidebar" data-v-fd660878 data-v-9cb98dab><a class="title" href="/" data-v-9cb98dab><!--[--><!--]--><!----><!--[-->知音(Zhin)<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-fd660878><div class="curtain" data-v-fd660878></div><div class="content-body" data-v-fd660878><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-fd660878><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fd660878 data-v-492ea56d><span id="main-nav-aria-label" class="visually-hidden" data-v-492ea56d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/start.html" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/config/common.html" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>配置</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-492ea56d data-v-473f4f87><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-473f4f87><span class="text" data-v-473f4f87><!----><span data-v-473f4f87>2.4.0</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-473f4f87><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-473f4f87><div class="VPMenu" data-v-473f4f87 data-v-97491713><div class="items" data-v-97491713><!--[--><!--[--><div class="VPMenuLink" data-v-97491713 data-v-8b74d055><a class="VPLink link vp-external-link-icon" href="https://github.com/zhinjs/zhin/blob/main/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-8b74d055><!--[-->Changelog<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-97491713 data-v-8b74d055><a class="VPLink link vp-external-link-icon" href="https://github.com/zhinjs/zhin/blob/main/.github/contributing.md" target="_blank" rel="noreferrer" data-v-8b74d055><!--[-->贡献<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fd660878 data-v-98566150><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-98566150 data-v-288cbc95 data-v-b60171c1><span class="check" data-v-b60171c1><span class="icon" data-v-b60171c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-288cbc95><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-288cbc95><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-fd660878 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zhinjs/zhin" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-a94e74d9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-fd660878 data-v-608cba8b data-v-473f4f87><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-473f4f87><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-473f4f87><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-473f4f87><div class="VPMenu" data-v-473f4f87 data-v-97491713><!----><!--[--><!--[--><!----><div class="group" data-v-608cba8b><div class="item appearance" data-v-608cba8b><p class="label" data-v-608cba8b>Appearance</p><div class="appearance-action" data-v-608cba8b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-608cba8b data-v-288cbc95 data-v-b60171c1><span class="check" data-v-b60171c1><span class="icon" data-v-b60171c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-288cbc95><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-288cbc95><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-608cba8b><div class="item social-links" data-v-608cba8b><div class="VPSocialLinks social-links-list" data-v-608cba8b data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/zhinjs/zhin" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-a94e74d9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fd660878 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-36382ed6 data-v-eef76b70><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-eef76b70><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-eef76b70><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-eef76b70>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-eef76b70 data-v-1b525709><button data-v-1b525709>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-36382ed6 data-v-c3f8b67a><div class="curtain" data-v-c3f8b67a></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c3f8b67a><span class="visually-hidden" id="sidebar-aria-label" data-v-c3f8b67a> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c3f8b67a><section class="VPSidebarItem level-0" data-v-c3f8b67a data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h2 class="text" data-v-1cde40c8>介绍</h2><!----></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/prepare.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>准备工作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/start.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/repeater.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>HelloWorld</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c3f8b67a><section class="VPSidebarItem level-0 has-active" data-v-c3f8b67a data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h2 class="text" data-v-1cde40c8>深入了解</h2><!----></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/plugin.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>插件 - Plugin</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/command.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>指令 - Command</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/prompt.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>可交互输入 - Prompt</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/component.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>组件 - Component</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/bot.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Bot API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/decorator.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>装饰器（实验性）</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c3f8b67a><section class="VPSidebarItem level-0" data-v-c3f8b67a data-v-1cde40c8><!----><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/deploy.html" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>部署</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-36382ed6 data-v-3cfaefff><div class="VPDoc has-sidebar has-aside" data-v-3cfaefff data-v-e521b9a4><!--[--><!--]--><div class="container" data-v-e521b9a4><div class="aside" data-v-e521b9a4><div class="aside-curtain" data-v-e521b9a4></div><div class="aside-container" data-v-e521b9a4><div class="aside-content" data-v-e521b9a4><div class="VPDocAside" data-v-e521b9a4 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-6d7b3c46 data-v-e8005310><div class="content" data-v-e8005310><div class="outline-marker" data-v-e8005310></div><div class="outline-title" role="heading" data-v-e8005310>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-e8005310><span class="visually-hidden" id="doc-outline-aria-label" data-v-e8005310> Table of Contents for current page </span><ul class="root" data-v-e8005310 data-v-bee2b9d1><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e521b9a4><div class="content-container" data-v-e521b9a4><!--[--><!--]--><!----><main class="main" data-v-e521b9a4><div style="position:relative;" class="vp-doc _guide_command" data-v-e521b9a4><div><h1 id="指令-command" tabindex="-1">指令(Command) <a class="header-anchor" href="#指令-command" aria-label="Permalink to &quot;指令(Command)&quot;">​</a></h1><h2 id="引言" tabindex="-1">引言 <a class="header-anchor" href="#引言" aria-label="Permalink to &quot;引言&quot;">​</a></h2><ul><li>指令是当一条消息满足一定条件时，约定机器人执行指定一个函数函数</li><li>在大多数机器人中，都是这样实现这个功能的</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">bot.</span><span style="color:#B392F0;">on</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;message&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">event</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (event.raw_message </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;foo&quot;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 执行foo函数</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">foo</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (event.raw_message.</span><span style="color:#B392F0;">startsWith</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;bar&quot;</span><span style="color:#E1E4E8;">)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    event.raw_message </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> event.raw_message.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;bar&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 根据参数执行bar函数</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">bar</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">event.raw_message.</span><span style="color:#B392F0;">split</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot; &quot;</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// do sth</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (condition) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">bot.</span><span style="color:#6F42C1;">on</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;message&quot;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">event</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (event.raw_message </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;foo&quot;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 执行foo函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">foo</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (event.raw_message.</span><span style="color:#6F42C1;">startsWith</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;bar&quot;</span><span style="color:#24292E;">)) {</span></span>
<span class="line"><span style="color:#24292E;">    event.raw_message </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> event.raw_message.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;bar&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 根据参数执行bar函数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">bar</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">event.raw_message.</span><span style="color:#6F42C1;">split</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot; &quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// do sth</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (condition) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><ul><li>这无疑是及其混乱的，而且还不利于维护。</li><li>为此，Zhin 参考市面上的指令实现后，实现了自己的指令系统</li><li>上边的代码在 Zhin 中，可以这么优雅的实现</li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">install</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">ctx</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Context</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  ctx.</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;foo&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">action</span><span style="color:#E1E4E8;">(foo);</span></span>
<span class="line"><span style="color:#E1E4E8;">  ctx.</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;bar &lt;...args&gt;&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">action</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">argv</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">...</span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bar</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">args));</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">install</span><span style="color:#24292E;">(</span><span style="color:#E36209;">ctx</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Context</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  ctx.</span><span style="color:#6F42C1;">command</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;foo&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">action</span><span style="color:#24292E;">(foo);</span></span>
<span class="line"><span style="color:#24292E;">  ctx.</span><span style="color:#6F42C1;">command</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;bar &lt;...args&gt;&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">action</span><span style="color:#24292E;">((</span><span style="color:#E36209;">argv</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">...</span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bar</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">args));</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>如此定义后: Zhin 会在用户发送的消息为 <code>foo</code> 时，自动执行 <strong>foo 函数</strong>。当用户发送的消息为 <code>bar</code> 开头时，Zhin 自动执行<strong>bar函数</strong>，并将后续的参数按<strong>空格</strong>分隔，传递给 <strong>bar 函数</strong>。</p><p>并且还有更多的使用方式，让我们接着往下看...</p><h2 id="参数定义" tabindex="-1">参数定义 <a class="header-anchor" href="#参数定义" aria-label="Permalink to &quot;参数定义&quot;">​</a></h2><p>如你所见，使用 ctx.command(desc) 方法可以定义一个指令，其中 desc 是一个字符串，包含了<strong>指令名</strong>和<strong>参数列表</strong>。</p><ul><li>指令名可以包含数字、字母、下划线、短横线甚至中文字符，但不应该包含空格、小数点 <code>.</code> 或斜杠 <code>/</code></li><li>一个指令可以含有任意个参数。其中 <strong>必选参数</strong> 用<strong>尖括号</strong>包裹，<strong>可选参数</strong>用<strong>方括号</strong>包裹</li><li>有时我们需要传入未知数量的参数，这时我们可以使用 <strong>变长参数</strong>，它可以通过在括号中前置**...**来实现。如：</li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">ctx.</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;echo &lt;arg1&gt; [...rest]&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">action</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">_</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">arg1</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">...</span><span style="color:#FFAB70;">rest</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">/* do something */</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">ctx.</span><span style="color:#6F42C1;">command</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;echo &lt;arg1&gt; [...rest]&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">action</span><span style="color:#24292E;">((</span><span style="color:#E36209;">_</span><span style="color:#24292E;">, </span><span style="color:#E36209;">arg1</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">...</span><span style="color:#E36209;">rest</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* do something */</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p>上面一行代码声明了一个<code>echo</code>指令，并且该指令接收<strong>1到多个参数</strong></p><h3 id="参数类型" tabindex="-1">参数类型 <a class="header-anchor" href="#参数类型" aria-label="Permalink to &quot;参数类型&quot;">​</a></h3><p>知音默认参数类型为消息段，若你需要指定类型，仅需在参数名后跟上 <code>:type</code> 即可，Zhin 内置的数据类型有：</p><ul><li>string: string 字符串</li><li>integer: number 整数</li><li>number: number 数值</li><li>boolean: boolean 布尔值</li><li>user_id: number | string 用户id</li><li>regexp: RegExp 正则表达式</li><li>date: Date 日期</li><li>json: Dict | List JSON对象</li><li>function: Function 函数用例：</li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">ctx.</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;send &lt;arg1:face&gt; [...rest:number]&quot;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// 声明第一个参数为一个表情，剩下的参数均为数值</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">ctx.</span><span style="color:#6F42C1;">command</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;send &lt;arg1:face&gt; [...rest:number]&quot;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// 声明第一个参数为一个表情，剩下的参数均为数值</span></span></code></pre></div><p>上面一行代码声明了一个<code>send</code>指令，并且该指令接收<strong>一个表情</strong>和<strong>多个数值</strong>，作为参数</p><h2 id="可选项定义" tabindex="-1">可选项定义 <a class="header-anchor" href="#可选项定义" aria-label="Permalink to &quot;可选项定义&quot;">​</a></h2><p>使用 cmd.option(name, desc) 函数可以给指令定义参数。这个函数也是可以链式调用的，例如：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">ctx</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;music &lt;keyword:string&gt;&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-o [origin:boolean]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 是否原声输出</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-p [platform:string]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 选用音乐平台</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-s [singer:number]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 指定歌手id</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">action</span><span style="color:#E1E4E8;">(({ </span><span style="color:#FFAB70;">options</span><span style="color:#E1E4E8;"> }, </span><span style="color:#FFAB70;">keyword</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(options));</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">ctx</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">command</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;music &lt;keyword:string&gt;&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-o [origin:boolean]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 是否原声输出</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-p [platform:string]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 选用音乐平台</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-s [singer:number]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 指定歌手id</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">action</span><span style="color:#24292E;">(({ </span><span style="color:#E36209;">options</span><span style="color:#24292E;"> }, </span><span style="color:#E36209;">keyword</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(options));</span></span></code></pre></div><div class="chat-panel"><div class="controls"><div class="circle red"></div><div class="circle yellow"></div><div class="circle green"></div><div class="title">聊天记录</div></div><div class="content"><!--[--><div class="chat-message show right"><div class="c-avatar-box" style="display:inline-block;"><img class="avatar" src="https://q1.qlogo.cn/g?b=qq&amp;nk=1659488338&amp;s=100"></div><div class="message-box"><div class="nickname">master</div><div class="message shadow-sm"><!--[-->music 烟雨行舟 -o -p qq -s 82329<!--]--></div></div></div><div class="chat-message show"><div class="c-avatar-box" style="display:inline-block;"><img class="avatar" src="https://q1.qlogo.cn/g?b=qq&amp;nk=1689919782&amp;s=100"></div><div class="message-box"><div class="nickname">知音</div><div class="message shadow-sm"><!--[-->{&quot;options&quot;:true,&quot;platform&quot;:&quot;qq&quot;,&quot;singer&quot;:82329}<!--]--></div></div></div><!--]--></div></div><p>同样，可选项的参数也可以声明类型，声明方式同上</p><h2 id="快捷方式" tabindex="-1">快捷方式 <a class="header-anchor" href="#快捷方式" aria-label="Permalink to &quot;快捷方式&quot;">​</a></h2><p>Zhin 的指令机制虽然能够尽可能避免冲突和误触发，但是也带来了一些麻烦。一方面，一些常用指令的调用会受到指令前缀的限制；另一方面，一些指令可能有较长的选项和参数，但它们调用时却往往是相同的。面对这些情况，<strong>快捷方式 (Shortcut)</strong> 能有效地解决你的问题接下来我们将刚刚上边的 <code>music</code> 指令稍微进行一下改造</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">ctx</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;music &lt;keyword:string&gt;&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-o [origin:boolean]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 是否原声输出</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-p [platform:string]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 选用音乐平台</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-s [singer:number]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 指定歌手id</span></span>
<span class="line diff add"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">sugar</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;qq点歌&quot;</span><span style="color:#E1E4E8;">, { options: { platform: </span><span style="color:#9ECBFF;">&quot;qq&quot;</span><span style="color:#E1E4E8;">, origin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> } }) </span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">action</span><span style="color:#E1E4E8;">(({ </span><span style="color:#FFAB70;">options</span><span style="color:#E1E4E8;"> }, </span><span style="color:#FFAB70;">keyword</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(options));</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#24292E;">ctx</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">command</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;music &lt;keyword:string&gt;&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-o [origin:boolean]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 是否原声输出</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-p [platform:string]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 选用音乐平台</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-s [singer:number]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 指定歌手id</span></span>
<span class="line diff add"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">sugar</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;qq点歌&quot;</span><span style="color:#24292E;">, { options: { platform: </span><span style="color:#032F62;">&quot;qq&quot;</span><span style="color:#24292E;">, origin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> } }) </span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">action</span><span style="color:#24292E;">(({ </span><span style="color:#E36209;">options</span><span style="color:#24292E;"> }, </span><span style="color:#E36209;">keyword</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(options));</span></span></code></pre></div><ul><li>这儿的<code>fuzzy</code>标识指令可以带参数</li></ul><div class="chat-panel"><div class="controls"><div class="circle red"></div><div class="circle yellow"></div><div class="circle green"></div><div class="title">聊天记录</div></div><div class="content"><!--[--><div class="chat-message show right"><div class="c-avatar-box" style="display:inline-block;"><img class="avatar" src="https://q1.qlogo.cn/g?b=qq&amp;nk=1659488338&amp;s=100"></div><div class="message-box"><div class="nickname">master</div><div class="message shadow-sm"><!--[-->qq点歌 烟雨行舟<!--]--></div></div></div><div class="chat-message show"><div class="c-avatar-box" style="display:inline-block;"><img class="avatar" src="https://q1.qlogo.cn/g?b=qq&amp;nk=1689919782&amp;s=100"></div><div class="message-box"><div class="nickname">知音</div><div class="message shadow-sm"><!--[-->{&quot;options&quot;:true,&quot;platform&quot;:&quot;qq&quot;}<!--]--></div></div></div><!--]--></div></div><p>除此以外，你还可以使用正则表达式作为快捷方式：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">ctx</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">command</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;music &lt;keyword:string&gt;&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-o [origin:boolean]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 是否原声输出</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-p [platform:string]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 选用音乐平台</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">option</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;-s [singer:number]&quot;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 指定歌手id</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">sugar</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;qq点歌&quot;</span><span style="color:#E1E4E8;">, { options: { platform: </span><span style="color:#9ECBFF;">&quot;qq&quot;</span><span style="color:#E1E4E8;">, origin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> } })</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">sugar</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#DBEDFF;">来一首(</span><span style="color:#79B8FF;">.</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">)</span><span style="color:#F97583;">$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    args: [</span><span style="color:#9ECBFF;">&quot;$1&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    options: { platform: </span><span style="color:#9ECBFF;">&quot;qq&quot;</span><span style="color:#E1E4E8;">, origin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line diff add"><span style="color:#E1E4E8;">  }) </span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">action</span><span style="color:#E1E4E8;">(({ </span><span style="color:#FFAB70;">options</span><span style="color:#E1E4E8;"> }, </span><span style="color:#FFAB70;">keyword</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> [keyword, </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(options)]);</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#24292E;">ctx</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">command</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;music &lt;keyword:string&gt;&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-o [origin:boolean]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 是否原声输出</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-p [platform:string]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 选用音乐平台</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">option</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;-s [singer:number]&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 指定歌手id</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">sugar</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;qq点歌&quot;</span><span style="color:#24292E;">, { options: { platform: </span><span style="color:#032F62;">&quot;qq&quot;</span><span style="color:#24292E;">, origin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> } })</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">sugar</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/</span><span style="color:#D73A49;">^</span><span style="color:#032F62;">来一首(</span><span style="color:#005CC5;">.</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">)</span><span style="color:#D73A49;">$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">    args: [</span><span style="color:#032F62;">&quot;$1&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    options: { platform: </span><span style="color:#032F62;">&quot;qq&quot;</span><span style="color:#24292E;">, origin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> },</span></span>
<span class="line diff add"><span style="color:#24292E;">  }) </span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">action</span><span style="color:#24292E;">(({ </span><span style="color:#E36209;">options</span><span style="color:#24292E;"> }, </span><span style="color:#E36209;">keyword</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> [keyword, </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(options)]);</span></span></code></pre></div><p>这样一来，输入<strong>来一首烟雨行舟</strong>就等价于输入<code>music 烟雨行舟 -p qq -o</code>了。</p><p>不难看出，使用快捷方式会让你的输入方式更加接近自然语言，也会让你的机器人显得更平易近人。</p></div></div></main><footer class="VPDocFooter" data-v-e521b9a4 data-v-9519b7ec><!--[--><!--]--><div class="edit-info" data-v-9519b7ec><div class="edit-link" data-v-9519b7ec><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/zhinjs/zhin/edit/master/docs/src/guide/command.md" target="_blank" rel="noreferrer" data-v-9519b7ec><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-9519b7ec><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> 修正文档<!--]--></a></div><div class="last-updated" data-v-9519b7ec><p class="VPLastUpdated" data-v-9519b7ec data-v-cd6026f8>上次更新时间: <time datetime="2023-07-24T01:38:10.000Z" data-v-cd6026f8></time></p></div></div><nav class="prev-next" data-v-9519b7ec><div class="pager" data-v-9519b7ec><a class="pager-link prev" href="/guide/plugin.html" data-v-9519b7ec><span class="desc" data-v-9519b7ec>上一节</span><span class="title" data-v-9519b7ec>插件 - Plugin</span></a></div><div class="pager" data-v-9519b7ec><a class="pager-link next" href="/guide/prompt.html" data-v-9519b7ec><span class="desc" data-v-9519b7ec>下一节</span><span class="title" data-v-9519b7ec>可交互输入 - Prompt</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-36382ed6 data-v-55867999><div class="container" data-v-55867999><p class="message" data-v-55867999>Released under the <a href="https://github.com/zhinjs/zhin/blob/master/LICENSE">MIT License</a>.</p><p class="copyright" data-v-55867999>Copyright © 2022-2023 <a href="https://github.com/lc-cn">凉菜</a></p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_context.md\":\"9cd0acdb\",\"api_bot.md\":\"1eb18815\",\"api_render-component.md\":\"6c7ab63f\",\"api_render-element.md\":\"434a7f3e\",\"api_service-koa.md\":\"99fc8f17\",\"api_service-router.md\":\"97cfd7ce\",\"api_service-server.md\":\"bdc98444\",\"api_service.md\":\"887eab04\",\"api_zhin.md\":\"bb0c1ae1\",\"config_adapter-icqq.md\":\"baa25ab6\",\"config_adapter-onebot.md\":\"c7eb11fc\",\"config_built-plugin.md\":\"017f6c60\",\"config_common.md\":\"137d0902\",\"guide_bot.md\":\"8b5a3094\",\"guide_command.md\":\"073a2b04\",\"api_render-template.md\":\"870aec86\",\"api_session.md\":\"d3df1ce7\",\"guide_start.md\":\"06723296\",\"index.md\":\"fdb0dcfe\",\"guide_config.md\":\"11f307de\",\"guide_decorator.md\":\"789cd0ee\",\"guide_prepare.md\":\"9dd23d1f\",\"api_adapter.md\":\"acc318f4\",\"api_index.md\":\"14784599\",\"guide_component.md\":\"2b15eedd\",\"api_command.md\":\"44363585\",\"guide_prompt.md\":\"2bc90ffa\",\"guide_repeater.md\":\"3ec7f589\",\"guide_deploy.md\":\"b1cf41e8\",\"api_event_map.md\":\"19cf3371\",\"api_message.md\":\"bd59cab3\",\"guide_plugin.md\":\"ebe398e4\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"知音(Zhin)\",\"titleTemplate\":\":title - 知音(Zhin)\",\"description\":\"轻量、优雅的开发机器人\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"开始\",\"link\":\"/guide/start\",\"activeMatch\":\"/guide/\"},{\"text\":\"配置\",\"link\":\"/config/common\",\"activeMatch\":\"/config/\"},{\"text\":\"2.4.0\",\"items\":[{\"text\":\"Changelog\",\"link\":\"https://github.com/zhinjs/zhin/blob/main/CHANGELOG.md\"},{\"text\":\"贡献\",\"link\":\"https://github.com/zhinjs/zhin/blob/main/.github/contributing.md\"}]}],\"sidebar\":{\"/guide/\":[{\"text\":\"介绍\",\"collapsible\":true,\"items\":[{\"text\":\"准备工作\",\"link\":\"/guide/prepare\"},{\"text\":\"安装\",\"link\":\"/guide/start\"},{\"text\":\"HelloWorld\",\"link\":\"/guide/repeater\"}]},{\"text\":\"深入了解\",\"collapsible\":true,\"items\":[{\"text\":\"插件 - Plugin\",\"link\":\"/guide/plugin\"},{\"text\":\"指令 - Command\",\"link\":\"/guide/command\"},{\"text\":\"可交互输入 - Prompt\",\"link\":\"/guide/prompt\"},{\"text\":\"组件 - Component\",\"link\":\"/guide/component\"},{\"text\":\"Bot API\",\"link\":\"/guide/bot\"},{\"text\":\"装饰器（实验性）\",\"link\":\"/guide/decorator\"}]},{\"text\":\"部署\",\"link\":\"/guide/deploy\"}],\"/api/\":[{\"text\":\"目录\",\"link\":\"/api/\"},{\"text\":\"核心模块\",\"collapsible\":true,\"items\":[{\"text\":\"知音\",\"link\":\"/api/zhin\"},{\"text\":\"服务\",\"link\":\"/api/service\"},{\"text\":\"适配器\",\"link\":\"/api/adapter\"},{\"text\":\"机器人\",\"link\":\"/api/bot\"},{\"text\":\"指令\",\"link\":\"/api/command\"},{\"text\":\"上下文\",\"link\":\"/api/context\"},{\"text\":\"会话\",\"link\":\"/api/session\"}]},{\"text\":\"消息定义\",\"link\":\"/api/message\"},{\"text\":\"内置服务\",\"collapsible\":true,\"items\":[{\"text\":\"server\",\"link\":\"/api/service-server\"},{\"text\":\"router\",\"link\":\"/api/service-router\"},{\"text\":\"koa\",\"link\":\"/api/service-koa\"}]},{\"text\":\"事件系统\",\"collapsible\":true,\"items\":[{\"text\":\"事件地图\",\"link\":\"/api/event/map\"}]}],\"/config\":[{\"text\":\"通用配置\",\"link\":\"/config/common\"},{\"text\":\"适配器\",\"collapsible\":true,\"items\":[{\"text\":\"icqq\",\"link\":\"/config/adapter-icqq\"}]},{\"text\":\"内置插件\",\"link\":\"/config/built-plugin\"}]},\"footer\":{\"message\":\"Released under the <a href=\\\"https://github.com/zhinjs/zhin/blob/master/LICENSE\\\">MIT License</a>.\",\"copyright\":\"Copyright © 2022-2023 <a href=\\\"https://github.com/lc-cn\\\">凉菜</a>\"},\"editLink\":{\"pattern\":\"https://github.com/zhinjs/zhin/edit/master/docs/src/:path\",\"text\":\"修正文档\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/zhinjs/zhin\"}],\"lastUpdatedText\":\"上次更新时间\",\"docFooter\":{\"prev\":\"上一节\",\"next\":\"下一节\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>