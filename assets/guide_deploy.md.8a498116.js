import{_ as s,o as l,c as a,U as o}from"./chunks/framework.587922bd.js";const h=JSON.parse('{"title":"部署到服务器","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deploy.md","filePath":"guide/deploy.md","lastUpdated":1677491574000}'),n={name:"guide/deploy.md"},e=o('<h1 id="部署到服务器" tabindex="-1">部署到服务器 <a class="header-anchor" href="#部署到服务器" aria-label="Permalink to &quot;部署到服务器&quot;">​</a></h1><ol><li>在<a href="https://nodejs.org/en/download/" target="_blank" rel="noreferrer">NodeJS官网</a>选择适合你服务器操作系统的NodeJS版本安装到服务器</li><li>安装完成<code>NodeJS</code>后，使用其自带的<code>npm</code>全局安装<code>pm2</code></li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pm2</span></span></code></pre></div><h2 id="使用cli快速部署到linux服务器" tabindex="-1">使用cli快速部署到Linux服务器 <a class="header-anchor" href="#使用cli快速部署到linux服务器" aria-label="Permalink to &quot;使用cli快速部署到Linux服务器&quot;">​</a></h2><p>在项目根目录执行下面的命令，即可快速将当前项目部署到远程linux服务器</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><ol><li>尖括号(<code>&lt;&gt;</code>)为必填参数，方括号(<code>[]</code>)为选题参数</li><li>username不传时默认为<code>root</code></li><li>未传password时，使用<code>sshKey</code>登录，<code>sshKey</code>默认为<code>~/.ssh/${服务器ip}.pem</code></li><li>传了password时，sshKey将失效，直接使用密码登录</li><li>directory不传时默认为<code>~/{当前项目名}</code></li></ol></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">zhin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deploy</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">服务器i</span><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> [-u </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">usernam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">]</span><span style="color:#A6ACCD;"> [-p </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">passwor</span><span style="color:#A6ACCD;">d</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">-k</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">sshKe</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">]</span><span style="color:#A6ACCD;"> [-d </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">director</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">]</span></span></code></pre></div><h2 id="自行部署到其他操作系统的服务器" tabindex="-1">自行部署到其他操作系统的服务器 <a class="header-anchor" href="#自行部署到其他操作系统的服务器" aria-label="Permalink to &quot;自行部署到其他操作系统的服务器&quot;">​</a></h2><ol><li>在服务器上安装zhin脚手架<code>@zhinjs/cli</code></li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@zhinjs/cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span></span></code></pre></div><ol start="2"><li>使用cli初始化一个空项目</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">zhin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zhin-app</span></span></code></pre></div><ol start="3"><li>将本地项目的<code>package.json</code>、<code>plugins</code>、<code>data</code>、<code>zhin.yaml</code>拷贝到服务器刚刚创建的空项目中</li><li>在服务器上安装项目依赖</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zhin-app</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><ol start="5"><li>使用pm2启动zhin</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">zhin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start:zhin</span></span></code></pre></div>',16),p=[e];function t(c,r,i,C,d,y){return l(),a("div",null,p)}const A=s(n,[["render",t]]);export{h as __pageData,A as default};
