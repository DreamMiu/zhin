import{d as m,o as i,c as l,k as r,t as _,e as C,r as v,O as b,h as p,g as w,j as g,D as E,I as P,n as q,v as f,a3 as R,a4 as S,a5 as B,a6 as D,a7 as L,a8 as j,a9 as M,aa as N,ab as V,ac as x,X as I,u as O,z as T,ad as U,ae as z,af as H,ag as F}from"./chunks/framework.8LufKu24.js";import{t as Y}from"./chunks/theme.JS8mLE3g.js";const G={class:"chat-panel"},J={key:0,class:"controls"},X=r("div",{class:"circle red"},null,-1),K=r("div",{class:"circle yellow"},null,-1),Q=r("div",{class:"circle green"},null,-1),W={class:"title"},Z={class:"content"},ee=m({__name:"ChatHistory",props:{controls:{type:Boolean,default:!0},title:{default:"聊天记录"}},setup(e){const t=e;return(a,s)=>(i(),l("div",G,[t.controls?(i(),l("div",J,[X,K,Q,r("div",W,_(t.title),1)])):C("",!0),r("div",Z,[v(a.$slots,"default")])]))}}),te={class:"c-avatar-box",style:{display:"inline-block"}},ae=["src"],se=m({__name:"UserAvatar",props:{avatar:{default:""},id:{default:null},type:{default:"qq"},size:{default:100},nickname:{default:""},color:{default:"steelblue"}},setup(e){const t=e,a=(s,o,n)=>{let c="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg";return o==="qq"?c=`https://q1.qlogo.cn/g?b=qq&nk=${s}&s=${n}`:o==="group"&&(c=`https://p.qlogo.cn/gh/${s}/${s}/${n}`),c};return(s,o)=>(i(),l("div",te,[t.avatar||t.id?(i(),l("img",{key:0,class:"avatar",src:t.avatar||a(t.id,t.type,t.size)},null,8,ae)):(i(),l("div",{key:1,class:"avatar",style:b(`background-color:${s.color}`)},_(t.nickname[0]),5))]))}}),ne={class:"message-box"},oe={class:"nickname"},re={class:"message shadow-sm"},ce=m({__name:"ChatMsg",props:{avatar:{},id:{},nickname:{},color:{}},emits:["appear"],setup(e,{emit:t}){const a=["1659488338",1659488338],s={1689919782:"知音",1659488338:"master"},o=d=>s[d],n=e,c=p();p(!1);const k=p(!1);p(!1);const A=w(()=>a.includes(n.id)),h=()=>{if(!c.value)return;c.value.getBoundingClientRect().top<innerHeight&&(k.value=!0)};return g(()=>{h(),addEventListener("scroll",h)}),(d,me)=>{const $=E("UserAvatar");return i(),l("div",{ref_key:"messageEl",ref:c,class:q(["chat-message show",{right:A.value}])},[P($,{id:n.id,avatar:n.avatar,nickname:n.nickname||o(n.id),color:n.color},null,8,["id","avatar","nickname","color"]),r("div",ne,[r("div",oe,_(n.nickname||o(n.id)),1),r("div",re,[v(d.$slots,"default")])])],2)}}}),ie={Layout:Y.Layout,enhanceApp({app:e}){e.component("UserAvatar",se),e.component("ChatMsg",ce),e.component("ChatHistory",ee)}};function y(e){if(e.extends){const t=y(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const u=y(ie),le=m({name:"VitePressApp",setup(){const{site:e}=O();return g(()=>{T(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),e.value.router.prefetchLinks&&U(),z(),H(),u.setup&&u.setup(),()=>F(u.Layout)}});async function ue(){const e=pe(),t=de();t.provide(S,e);const a=B(e.route);return t.provide(D,a),t.component("Content",L),t.component("ClientOnly",j),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),u.enhanceApp&&await u.enhanceApp({app:t,router:e,siteData:M}),{app:t,router:e,data:a}}function de(){return N(le)}function pe(){let e=f,t;return V(a=>{let s=x(a),o=null;return s&&(e&&(t=s),(e||t===s)&&(s=s.replace(/\.js$/,".lean.js")),o=I(()=>import(s),__vite__mapDeps([]))),f&&(e=!1),o},u.NotFound)}f&&ue().then(({app:e,router:t,data:a})=>{t.go().then(()=>{R(t.route,a.site),e.mount("#app")})});export{ue as createApp};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}