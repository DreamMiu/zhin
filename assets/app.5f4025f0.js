import{u as _,v as r,b as c,F as n,X as m,B as b,z as f,D as C,d as p,r as P,A as g,t as w,a as q,M as x,I as v,a0 as E,c as H,H as M,a1 as R,a2 as j,a3 as B,a4 as D,a5 as L,a6 as T,a7 as U,a8 as F,a9 as I,aa as z,ab as N,ac as O,ad as S,ae as V}from"./chunks/framework.2116cc8b.js";import{t as Y}from"./chunks/theme.1c42033f.js";const G={class:"chat-panel"},J={key:0,class:"controls"},X=n("div",{class:"circle red"},null,-1),K=n("div",{class:"circle yellow"},null,-1),Q=n("div",{class:"circle green"},null,-1),W={class:"title"},Z={class:"content"},ee=_({__name:"ChatHistory",props:{controls:{type:Boolean,default:!0},title:{default:"聊天记录"}},setup(e){const t=e;return(a,s)=>(r(),c("div",G,[t.controls?(r(),c("div",J,[X,K,Q,n("div",W,m(t.title),1)])):b("",!0),n("div",Z,[f(a.$slots,"default")])]))}});const te={class:"c-avatar-box",style:{display:"inline-block"}},ae=["src"],se=_({__name:"UserAvatar",props:{avatar:{default:""},id:{default:null},type:{default:"qq"},size:{default:100},nickname:{default:""},color:{default:"steelblue"}},setup(e){const t=e,a=(s,l,u)=>{let o="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg";return l==="qq"?o=`https://q1.qlogo.cn/g?b=qq&nk=${s}&s=${u}`:l==="group"&&(o=`https://p.qlogo.cn/gh/${s}/${s}/${u}`),o};return(s,l)=>(r(),c("div",te,[t.avatar||t.id?(r(),c("img",{key:0,class:"avatar",src:t.avatar||a(t.id,t.type,t.size)},null,8,ae)):(r(),c("div",{key:1,class:"avatar",style:C(`background-color:${s.color}`)},m(t.nickname[0]),5))]))}});const ne={class:"message-box"},oe={class:"nickname"},re={class:"message shadow-sm"},ce=_({__name:"ChatMsg",props:{avatar:{},id:{},nickname:{},color:{}},emits:["appear"],setup(e,{emit:t}){const a=e,s=["1659488338",1659488338],l={1689919782:"知音",1659488338:"master"},u=d=>l[d],o=p();p(!1);const A=p(!1);p(!1);const $=P(()=>s.includes(a.id)),h=()=>{if(!o.value)return;o.value.getBoundingClientRect().top<innerHeight&&(A.value=!0)};return g(()=>{h(),addEventListener("scroll",h)}),(d,_e)=>{const k=x("UserAvatar");return r(),c("div",{ref_key:"messageEl",ref:o,class:q(["chat-message show",{right:$.value}])},[w(k,{id:a.id,avatar:a.avatar,nickname:a.nickname||u(a.id),color:a.color},null,8,["id","avatar","nickname","color"]),n("div",ne,[n("div",oe,m(a.nickname||u(a.id)),1),n("div",re,[f(d.$slots,"default")])])],2)}}});const ie={Layout:Y.Layout,enhanceApp({app:e}){e.component("UserAvatar",se),e.component("ChatMsg",ce),e.component("ChatHistory",ee)}};function y(e){if(e.extends){const t=y(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const i=y(ie),le=_({name:"VitePressApp",setup(){const{site:e}=H();return g(()=>{M(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),R(),j(),B(),i.setup&&i.setup(),()=>D(i.Layout)}});async function ue(){const e=pe(),t=de();t.provide(L,e);const a=T(e.route);return t.provide(U,a),t.component("Content",F),t.component("ClientOnly",I),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),i.enhanceApp&&await i.enhanceApp({app:t,router:e,siteData:z}),{app:t,router:e,data:a}}function de(){return N(le)}function pe(){let e=v,t;return O(a=>{let s=S(a);return s?(e&&(t=s),(e||t===s)&&(s=s.replace(/\.js$/,".lean.js")),v&&(e=!1),V(()=>import(s),[])):null},i.NotFound)}v&&ue().then(({app:e,router:t,data:a})=>{t.go().then(()=>{E(t.route,a.site),e.mount("#app")})});export{ue as createApp};
