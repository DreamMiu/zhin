import{_ as s,o as a,c as l,Q as o}from"./chunks/framework.3ed515d9.js";const F=JSON.parse('{"title":"部署到服务器","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deploy.md","filePath":"guide/deploy.md","lastUpdated":1689920000000}'),p={name:"guide/deploy.md"},n=o('<h1 id="部署到服务器" tabindex="-1">部署到服务器 <a class="header-anchor" href="#部署到服务器" aria-label="Permalink to &quot;部署到服务器&quot;">​</a></h1><ol><li>在<a href="https://nodejs.org/en/download/" target="_blank" rel="noreferrer"> Node.js 官网</a>选择适合你服务器操作系统的 Node.js 版本安装到服务器</li><li>安装完成 <code>Node.js</code> 后，使用其自带的 <code>npm</code> 全局安装 <code>pm2</code></li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pm2</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pm2</span></span></code></pre></div><h2 id="使用-cli-快速部署到-linux-服务器" tabindex="-1">使用 cli 快速部署到 Linux 服务器 <a class="header-anchor" href="#使用-cli-快速部署到-linux-服务器" aria-label="Permalink to &quot;使用 cli 快速部署到 Linux 服务器&quot;">​</a></h2><p>在项目根目录执行下面的命令，即可快速将当前项目部署到远程 linux 服务器</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><ol><li>尖括号(<code>&lt;&gt;</code>)为必填参数，方括号(<code>[]</code>)为选题参数</li><li>username 不传时默认为 <code>root</code></li><li>未传 password 时，使用 <code>sshKey</code> 登录，<code>sshKey</code> 默认为 <code>~/.ssh/${ip}.pem</code></li><li>传了 password 时，sshKey 将失效，直接使用密码登录</li><li>directory 不传时默认为 <code>~/{当前项目名}</code></li></ol></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">zhin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">deploy</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">服务器i</span><span style="color:#E1E4E8;">p</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> [-u </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">usernam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">]</span><span style="color:#E1E4E8;"> [-p </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">passwor</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">-k</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">sshKe</span><span style="color:#E1E4E8;">y</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">]</span><span style="color:#E1E4E8;"> [-d </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">director</span><span style="color:#E1E4E8;">y</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">zhin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">deploy</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">服务器i</span><span style="color:#24292E;">p</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> [-u </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">usernam</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">]</span><span style="color:#24292E;"> [-p </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">passwor</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">-k</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">sshKe</span><span style="color:#24292E;">y</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">]</span><span style="color:#24292E;"> [-d </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">director</span><span style="color:#24292E;">y</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">]</span></span></code></pre></div><h2 id="自行部署到其他操作系统的服务器" tabindex="-1">自行部署到其他操作系统的服务器 <a class="header-anchor" href="#自行部署到其他操作系统的服务器" aria-label="Permalink to &quot;自行部署到其他操作系统的服务器&quot;">​</a></h2><ol><li>在服务器上安装 Zhin 脚手架 <code>@zhinjs/cli</code></li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@zhinjs/cli</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@zhinjs/cli</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span></span></code></pre></div><ol start="2"><li>使用 cli 初始化一个空项目</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">zhin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zhin-app</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">zhin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zhin-app</span></span></code></pre></div><ol start="3"><li>将本地项目的 <code>package.json</code>、<code>plugins</code>、<code>data</code>、<code>zhin.yaml</code> 拷贝到服务器刚刚创建的空项目中</li><li>在服务器上安装项目依赖</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zhin-app</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zhin-app</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span></span></code></pre></div><ol start="5"><li>使用 pm2 启动 Zhin</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">zhin</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start:zhin</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">npm</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">zhin</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start:zhin</span></span></code></pre></div>',16),e=[n];function t(c,r,i,y,d,E){return a(),l("div",null,e)}const g=s(p,[["render",t]]);export{F as __pageData,g as default};
